[2024-04-24 10:35:11,233] - 224  werkzeug - INFO- [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-04-24 10:35:11,233] - 224  werkzeug - INFO- [33mPress CTRL+C to quit[0m
[2024-04-24 10:36:24,690] - 108  root - INFO- Dataframe Gathered
[2024-04-24 10:36:25,630] - 1744  app - ERROR- Exception on /predict [POST]
Traceback (most recent call last):
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\joblib\parallel.py", line 862, in dispatch_one_batch
    tasks = self._ready_batches.get(block=False)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\queue.py", line 168, in get
    raise Empty
_queue.Empty

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Studies\Data Science\ProjectPro Projects\Customer Propensity Model\src\pipeline\prediction_pipeline.py", line 26, in predict
    scaled_features = preprocessor.transform(features)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\pipeline.py", line 658, in transform
    Xt = transform.transform(Xt)
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\utils\_set_output.py", line 140, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\compose\_column_transformer.py", line 800, in transform
    Xs = self._fit_transform(
         ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\compose\_column_transformer.py", line 658, in _fit_transform
    return Parallel(n_jobs=self.n_jobs)(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\utils\parallel.py", line 63, in __call__
    return super().__call__(iterable_with_config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\joblib\parallel.py", line 1085, in __call__
    if self.dispatch_one_batch(iterator):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\joblib\parallel.py", line 873, in dispatch_one_batch
    islice = list(itertools.islice(iterator, big_batch_size))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\utils\parallel.py", line 59, in <genexpr>
    iterable_with_config = (
                           ^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\compose\_column_transformer.py", line 661, in <genexpr>
    X=_safe_indexing(X, column, axis=1),
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\utils\__init__.py", line 354, in _safe_indexing
    return _pandas_indexing(X, indices, indices_dtype, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\sklearn\utils\__init__.py", line 200, in _pandas_indexing
    return indexer[:, key] if axis else indexer[key]
           ~~~~~~~^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\pandas\core\indexing.py", line 1147, in __getitem__
    return self._getitem_tuple(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\pandas\core\indexing.py", line 1339, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\pandas\core\indexing.py", line 994, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\pandas\core\indexing.py", line 1382, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\pandas\core\indexing.py", line 1322, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\pandas\core\indexing.py", line 1520, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\pandas\core\indexes\base.py", line 6115, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\pandas\core\indexes\base.py", line 6179, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['add_to_wishlist_to_purchase_ratios'] not in index"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\flask\app.py", line 2529, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\flask\app.py", line 1825, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\flask\app.py", line 1823, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Pradyu\anaconda3\Lib\site-packages\flask\app.py", line 1799, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Studies\Data Science\ProjectPro Projects\Customer Propensity Model\app.py", line 56, in predict_datapoint
    pred=predict_pipeline.predict(final_data)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Studies\Data Science\ProjectPro Projects\Customer Propensity Model\src\pipeline\prediction_pipeline.py", line 34, in predict
    raise CustomException(e,sys)
src.exception.exception.CustomException: Error occured in the python script [ D:\Studies\Data Science\ProjectPro Projects\Customer Propensity Model\src\pipeline\prediction_pipeline.py ] at the line 26 Error message: "['add_to_wishlist_to_purchase_ratios'] not in index"
[2024-04-24 10:36:25,662] - 224  werkzeug - INFO- 127.0.0.1 - - [24/Apr/2024 10:36:25] "[35m[1mPOST /predict HTTP/1.1[0m" 500 -
